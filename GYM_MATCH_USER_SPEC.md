# GYM MATCH アプリ仕様書

## アプリ概要

**GYM MATCH** は、全国のジム検索とトレーニング記録管理を統合したフィットネスアプリです。GPS位置情報を活用した周辺ジム検索、混雑度表示、AIトレーニングメニュー提案、トレーニングパートナー検索など、ジムライフを充実させる機能を搭載しています。

---

## 主要機能

### 1. ジム検索機能

**使用用途:**
- GPS位置情報を使って、現在地周辺のジムを検索
- Google Places APIによる全国のジム情報検索
- 地図上でジムの位置を確認
- ジムの詳細情報（営業時間、設備、口コミ）を閲覧
- お気に入りジムの保存と管理

**主な機能:**
- GPS位置検索（現在地から近い順に表示）
- 地図表示（Google Maps連携）
- ジム詳細情報表示
- 混雑度リアルタイム表示
- 営業時間確認
- お気に入り保存
- ジムレビュー閲覧

---

### 2. 混雑度表示機能

**使用用途:**
- ジムの混雑状況を事前に確認
- 空いている時間帯を狙ってジムに行ける
- ストレスフリーなトレーニング環境を確保

**主な機能:**
- リアルタイム混雑度表示（5段階）
- 混雑度の色分け表示（緑：空いている / 赤：混雑）
- ユーザーによる混雑度レポート投稿
- 統計データに基づく推定混雑度
- 混雑度アラート通知（Premium以上）

**混雑度の仕組み:**
- ユーザーレポート（最優先・24時間有効）
- キャッシュデータ（動的有効期限）
- 統計推定（評価・口コミ数・時間帯から推定）

---

### 3. トレーニング記録機能

**使用用途:**
- 日々のトレーニング内容を記録
- 成長の可視化とモチベーション維持
- パーソナル記録（PR）の管理
- トレーニングメニューのテンプレート化

**主な機能:**
- トレーニング記録の追加・編集・削除
- セット数・回数・重量の詳細記録
- セットタイプ管理（ウォームアップ、メインセット、ドロップセット、フェイラー）
- 種目別パーソナルレコード（PR）自動更新
- トレーニングテンプレート作成・利用
- 週次レポート自動生成
- トレーニング履歴の検索・フィルター
- トレーニングメモ機能
- CSV形式でトレーニングデータインポート

---

### 4. AI トレーニングコーチング

**使用用途:**
- トレーニングしたい部位を選択するとAIが最適なメニューを提案
- 初心者向けの詳細なフォーム解説
- 過去の提案メニューを保存・閲覧

**主な機能:**
- 部位別トレーニングメニュー生成（胸・背中・脚・肩・腕・体幹・有酸素）
- 初心者モード（フォーム重視の安全なメニュー）
- Google Gemini 2.0 Flash AI搭載
- メニュー保存機能
- 提案履歴の確認

**AI使用回数:**
- **無料プラン**: 広告視聴で1回使用可能（月3回まで）
- **Premiumプラン**: 月10回まで
- **Proプラン**: 月30回まで
- **追加購入**: ¥100で5回追加（有料プラン会員のみ）

---

### 5. 統計・分析機能

**使用用途:**
- トレーニングの進捗を可視化
- 成長予測でモチベーション向上
- 体組成データの推移確認

**主な機能:**
- 部位別トレーニング頻度グラフ
- 週別トレーニング量推移
- 総挙上重量（Total Volume）計算
- パーソナルレコード一覧
- 体重・体脂肪率推移グラフ
- AI成長予測機能（1RM推定・成長トレンド分析）
- 週次サマリーレポート

---

### 6. トレーニングパートナー検索

**使用用途:**
- 同じ目標を持つトレーニング仲間を見つける
- 位置情報・目標・経験レベルでフィルター検索
- マッチングリクエスト送信とメッセージング

**主な機能:**
- パートナープロフィール作成
- 検索フィルター（距離・目標・経験レベル・性別）
- マッチングリクエスト送信
- メッセージング機能
- マッチング履歴管理

---

### 7. 計算ツール

**使用用途:**
- トレーニングに役立つ各種計算ツール

**主な機能:**
- 1RM（最大挙上重量）計算
- BMI計算
- 体脂肪率計算
- TDEE（総消費カロリー）計算

---

### 8. 目標設定・達成管理

**使用用途:**
- トレーニング目標の設定と進捗管理
- 達成時の自動通知

**主な機能:**
- 目標体重・体脂肪率設定
- 種目別目標重量設定
- 進捗率の可視化
- 達成バッジ付与

---

### 9. SNSシェア機能

**使用用途:**
- トレーニング記録をSNSで共有
- モチベーション向上とコミュニティ形成

**主な機能:**
- トレーニングサマリー画像生成
- Twitter / Facebook / Instagram対応
- 総挙上重量・PR更新を自動フォーマット

---

### 10. 通知機能

**使用用途:**
- トレーニングリマインダー
- 混雑度アラート（Premium以上）
- パートナーリクエスト通知

---

## 料金プラン

### 無料プラン（¥0 / 月）

**利用可能機能:**
- 全国のジム検索
- GPS位置検索
- 基本情報閲覧
- 混雑度表示
- 営業時間確認
- トレーニング記録管理
- AI機能（広告視聴で月3回まで）

**制限事項:**
- お気に入り保存制限あり
- AI機能は広告視聴必須（月3回まで）
- 広告表示あり
- トレーニングパートナー検索不可

---

### Premiumプラン

**料金:**
- **月額**: ¥500 / 月
- **年額**: ¥4,800 / 年（月換算 ¥400、20% OFF、¥1,200お得）

**無料トライアル:** 30日間

**利用可能機能:**
- ✨ 無料プランの全機能
- 🤖 AI機能 月10回
- ❤️ お気に入り無制限
- 📊 詳細な混雑度統計
- 🔔 混雑度アラート通知
- 📝 ジムレビュー投稿
- 🎯 高度なフィルター検索

---

### Proプラン

**料金:**
- **月額**: ¥980 / 月
- **年額**: ¥8,000 / 年（月換算 ¥667、32% OFF、¥3,760お得）

**無料トライアル:** 14日間

**利用可能機能:**
- ✨ Premiumプランの全機能
- 🤖 AI機能 月30回
- 👥 トレーニングパートナー検索
- 💬 メッセージング機能
- 📊 トレーニング記録と分析

---

### AI追加パック（有料プラン会員限定）

**料金:** ¥100 / 5回

**利用条件:**
- Premium / Proプラン会員のみ購入可能
- 月間AI使用回数上限到達時に購入可能
- 今月末まで有効

---

## プラン別機能比較表

| 機能 | 無料 | Premium | Pro |
|------|------|---------|-----|
| ジム検索 | ✅ | ✅ | ✅ |
| GPS位置検索 | ✅ | ✅ | ✅ |
| 混雑度表示 | ✅ | ✅ | ✅ |
| トレーニング記録 | ✅ | ✅ | ✅ |
| お気に入り保存 | ⚠️ 制限あり | ✅ 無制限 | ✅ 無制限 |
| AI機能 | ⚠️ 広告視聴で月3回 | ✅ 月10回 | ✅ 月30回 |
| レビュー投稿 | ❌ | ✅ | ✅ |
| 混雑度アラート | ❌ | ✅ | ✅ |
| パートナー検索 | ❌ | ❌ | ✅ |
| メッセージング | ❌ | ❌ | ✅ |
| 広告表示 | ⚠️ あり | ✅ なし | ✅ なし |

---

## アプリの強み

### 1. 混雑度情報の提供
ジムの混雑状況を事前に確認できるため、快適なトレーニング環境を確保できます。統計データとユーザーレポートを組み合わせた独自の混雑度推定システムを搭載。

### 2. 最新AI技術の活用
Google Gemini 2.0 Flash AIを搭載し、個別のニーズに合わせたトレーニングメニューを提案。初心者から上級者まで、適切なメニューを自動生成します。

### 3. 包括的なトレーニング管理
記録・分析・目標設定・パートナー検索まで、トレーニングに必要な機能を一つのアプリで完結。セットタイプ管理やテンプレート機能など、詳細な記録が可能。

### 4. Google Places API連携
全国のジム情報をGoogle Places APIから取得し、最新の情報を提供。営業時間・口コミ・評価なども確認可能。

### 5. 柔軟な料金プラン
無料プランで基本機能を試し、必要に応じて段階的にアップグレード可能。年額プランでお得に利用できます。

### 6. トレーニングコミュニティ形成
パートナー検索機能（Proプラン）により、同じ目標を持つ仲間と出会い、モチベーションを維持できます。

---

## 技術情報

**対応プラットフォーム:**
- Web版（現在稼働中）
- Android版（準備中）
- iOS版（計画中）

**バージョン:** 1.0.40

**開発フレームワーク:** Flutter 3.35.4 / Dart 3.9.2

**データベース:** Firebase Firestore（22コレクション）

**外部API連携:**
- Google Places API（ジム検索）
- Google Maps API（地図表示）
- Google Gemini 2.0 Flash（AIコーチング）
- RevenueCat（iOS/Android課金管理）
- Google AdMob（広告配信）

---

## ご利用について

### 無料トライアル
- **Premium**: 30日間無料
- **Pro**: 14日間無料
- トライアル終了後、自動的に有料プランに移行
- いつでもキャンセル可能（期間満了まで利用可）

### サブスクリプション管理
- iOS: App Store設定から管理
- Android: Google Play設定から管理
- Web: アプリ内「プラン管理」画面から管理

### 購入履歴の復元
iOS/Androidアプリで「購入履歴を復元」ボタンから、過去の購入を復元できます。

---

## お問い合わせ

アプリに関するご質問・ご要望は、アプリ内「設定」→「お問い合わせ」からお願いいたします。

---

**GYM MATCH - あなたのジムライフを、もっと快適に。**
