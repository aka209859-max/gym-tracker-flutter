# 開発者メニュー使用ガイド - CEO専用Pro有効化

**作成日**: 2025年1月  
**対象ユーザー**: CEO（rooodokanaroa@icloud.com）  
**目的**: TestFlightインストール後、即座にProプラン全機能を利用可能にする

---

## 🎯 開発者メニューとは？

**CEO専用の特別機能**で、RevenueCatの実購入なしに任意のプラン（Free/Premium/Pro）に即座に切り替えられる管理画面です。

### **主な用途**:

1. **Proプラン全機能の即時有効化**
   - AI機能（月30回）
   - パートナー検索
   - メッセージング
   - AI週次レポート

2. **開発者としての全機能テスト**
   - 各プランの動作確認
   - AI使用回数制限のテスト
   - 機能制限の動作確認

3. **実演素材の作成**
   - Proプラン機能を使ったデモ動画撮影
   - スクリーンショット作成
   - マーケティング資料用の実演

---

## 📱 アクセス方法

### **TestFlight ビルドでのアクセス**

**重要**: 開発者メニューは**TestFlight版のみ**で表示されます。App Store正式版では完全に非表示になります。

#### **手順**:

1. **TestFlight から GYM MATCH アプリをインストール**

2. **アプリを起動してホーム画面（トレーニング記録画面）へ移動**

3. **画面右上の「開発者モード」アイコン（⚙️の隣）をタップ**
   - アイコン: `developer_mode`（パズルピースのような形）
   - 位置: AppBar 右上、設定アイコンの左側

4. **開発者メニュー画面が開きます**

---

## 🎨 開発者メニュー画面の構成

### **1. 警告メッセージ（オレンジ色のカード）**

```
⚠️ 開発者専用
リリースビルド（App Store版）では表示されません
TestFlightビルドのみで利用可能
```

→ この画面が**TestFlightでしか見えない**ことを確認するためのメッセージ

---

### **2. 現在のプラン表示（カード）**

**表示内容**:
- プラン名（例: "プロプラン"）
- プランバッジ（FREE / PREMIUM / PRO）
- プラン説明（例: "AI機能（月30回） + パートナー検索 + メッセージング"）
- 月額料金（例: "¥980/月"）

→ 現在有効化されているプランを一目で確認できます

---

### **3. プラン変更ボタン（3つ）**

#### **① 無料プランに変更（グレー）**
- アイコン: ☕ (`free_breakfast`)
- 機能: ジム検索 + トレーニング記録
- AI機能: なし
- 広告: 表示あり

#### **② プレミアムプランに変更（ブルー）**
- アイコン: ⭐ (`star`)
- 機能: AI機能（月10回） + お気に入り無制限 + レビュー投稿 + 広告非表示
- 月額: ¥500

#### **③ Proプランに変更（ディープパープル）** ← **推奨**
- アイコン: 🏆 (`workspace_premium`)
- 機能: プレミアム全機能 + AI週次レポート + パートナー検索 + メッセージング
- AI機能: 月30回
- 月額: ¥980

**操作**:
- タップするだけで即座にプラン変更
- 現在のプランのボタンは無効化される（タップ不可）
- 変更成功時に緑色のSnackBarで通知

---

### **4. AI使用状況（紫色のカード）**

**表示内容**:
- 🧠 AI使用状況
- 残り回数 / 上限回数（例: "残り30回 (0/30回使用)"）

**状態例**:
- 無料プラン: "AI機能は有料プランで利用可能です"
- プレミアムプラン: "残り8回 (2/10回使用)"
- Proプラン: "残り28回 (2/30回使用)"

---

### **5. AI使用回数リセットボタン（オレンジ）**

**機能**: 今月のAI使用回数を0にリセット

**用途**:
- AI機能のテスト時に回数制限をリセット
- 回数上限に達した後、すぐに再テストしたい場合

**操作**: タップすると即座にリセット、緑色のSnackBarで確認

---

### **6. 使い方ガイド（青色のカード）**

開発者メニューの使い方を簡潔に説明したヘルプテキスト

---

## 🚀 TestFlightインストール直後の推奨手順

### **Phase 3 実施時（TestFlight配信後）**

**目標**: 最短でProプラン全機能を有効化する

#### **ステップ1: TestFlightからインストール（1分）**

1. iPhoneで TestFlight アプリを開く
2. GYM MATCH を探してインストール
3. インストール完了後、アプリを起動

#### **ステップ2: 開発者メニューにアクセス（30秒）**

1. ホーム画面（トレーニング記録）へ移動
2. 右上の「開発者モード」アイコンをタップ
3. 開発者メニュー画面が開く

#### **ステップ3: Proプランを有効化（10秒）**

1. **「Proプランに変更」ボタン（紫色）をタップ**
2. 緑色のSnackBar「✅ プロプランに変更しました」が表示
3. 現在のプラン表示が「プロプラン」に更新される

#### **ステップ4: 全機能を確認（5分）**

**Proプラン限定機能のテスト**:

1. **AI機能（月30回）**:
   - ホーム画面 → 「AIコーチング」をタップ
   - AI成長予測、AI効果分析、AI週次レポート全てアクセス可能
   - 残り回数「30回」を確認

2. **パートナー検索**:
   - プロフィール画面 → 「パートナー検索」をタップ
   - トレーニングパートナーを探す機能が利用可能

3. **メッセージング**:
   - パートナーとのメッセージ機能が利用可能

4. **広告非表示**:
   - 画面下部のAdMobバナー広告が表示されない

---

## 🎬 実演素材作成のための活用

### **目的**: NexaJPのマーケティング資料用の実演を作成

**推奨する撮影シーン**:

#### **1. AI機能のデモ動画（30秒）**

**シナリオ**:
1. ホーム画面でトレーニング記録を表示
2. 「AIコーチング」タブをタップ
3. AI成長予測でグラフを表示
4. AI効果分析で部位別分析を表示
5. 「残り30回」のAI使用回数を強調

**強調ポイント**:
- 「48時間で"勘"を"確信"に変える」
- データドリブンなトレーニング改善提案
- プロプランならAI月30回使える

---

#### **2. パートナー検索のデモ（20秒）**

**シナリオ**:
1. プロフィール画面を開く
2. 「パートナー検索」をタップ
3. ジムでのトレーニングパートナー一覧を表示
4. プロフィールをタップして詳細確認

**強調ポイント**:
- コミュニティ機能の価値
- ネットワーク効果
- プロプラン限定のプレミアム機能

---

#### **3. 統計ダッシュボードのデモ（30秒）**

**シナリオ**:
1. ホーム画面で統計カードをタップ
2. 統計ダッシュボード画面を表示
3. 負荷量推移グラフをスクロール
4. 部位別統計、種目別統計を表示

**強調ポイント**:
- 戦略的明確化の実演
- データ可視化による分析麻痺の解消
- 10x Mindset（10倍思考）の具現化

---

## 🔒 セキュリティ保護

### **リリースビルドでの非表示設定**

**重要**: 開発者メニューは`kDebugMode`フラグで制御されています。

**動作確認**:

| ビルドタイプ | kDebugMode | 開発者メニュー表示 |
|------------|-----------|-----------------|
| **TestFlight** | `true` | ✅ 表示される |
| **App Store正式版** | `false` | ❌ 表示されない |

**コード（lib/screens/home_screen.dart）**:

```dart
// 開発者メニュー（デバッグモードのみ表示）
if (kDebugMode)
  IconButton(
    icon: const Icon(Icons.developer_mode),
    tooltip: '開発者メニュー',
    onPressed: () {
      Navigator.pushNamed(context, '/developer_menu');
    },
  ),
```

**結果**:
- **TestFlightユーザー（CEO）**: 開発者メニューアイコンが見える
- **App Storeユーザー（一般ユーザー）**: 開発者メニューアイコンが完全に非表示

---

## 📋 トラブルシューティング

### **Q1: 開発者メニューアイコンが表示されない**

**原因**: リリースビルドで起動している可能性

**解決策**:
1. TestFlight版であることを確認
2. アプリを完全に閉じて再起動
3. それでも表示されない場合、次回ビルド（Build #32以降）を待つ

---

### **Q2: プラン変更ボタンを押してもエラーが出る**

**原因**: SharedPreferences の書き込み権限エラー

**解決策**:
1. アプリを完全に閉じる
2. iPhoneの設定 → GYM MATCH → ストレージをクリア
3. アプリを再起動して再試行

---

### **Q3: Proプランに変更したのにAI機能が使えない**

**原因**: プラン情報のキャッシュが残っている

**解決策**:
1. 開発者メニューで「無料プラン」に一度変更
2. 再度「Proプラン」に変更
3. ホーム画面に戻ってAI機能を試す

---

## 🎯 まとめ

### **開発者メニューの価値**

1. **即時有効化**: RevenueCat実購入なしでProプラン全機能を利用可能
2. **実演素材作成**: マーケティング資料用のデモ動画・スクリーンショット撮影
3. **開発者テスト**: 全プランの動作確認が容易
4. **セキュリティ保護**: App Store正式版では完全に非表示

### **CEOの使命に貢献**

- **4ヶ月でARR1000万円達成** → Proプラン機能で「未来の実演」を提示
- **「分析麻痺」の解消** → AI機能を使ったデータドリブン改善を実演
- **「戦略的明確化」の実現** → 統計ダッシュボードで可視化された意思決定

---

**次のステップ**: Phase 2完了後、TestFlightインストール時にこのガイドを参照してProプランを有効化してください。

---

**作成者**: AI戦略家  
**最終更新**: 開発者メニュー実装完了時  
**関連ドキュメント**: `/home/user/flutter_app/docs/post_release_plan.md`
