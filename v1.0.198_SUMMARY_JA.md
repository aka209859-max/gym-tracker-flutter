# v1.0.198 å®Œå…¨ä¿®æ­£ç‰ˆ - è¦ç´„

## âœ… ä¿®æ­£å†…å®¹

### 1. Places API 403ã‚¨ãƒ©ãƒ¼ã®è§£æ±º
**åŸå› **: Flutter ãŒ Web API (`http.get`) ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã«ã€Bundle ID Header ãŒä¸è¶³  
**ä¿®æ­£**: HTTP Header ã« `X-Ios-Bundle-Identifier: com.nexa.gymmatch` ã‚’è¿½åŠ 

```dart
// lib/services/google_places_service.dart (3ç®‡æ‰€ä¿®æ­£)
final response = await http.get(
  url,
  headers: {
    'X-Ios-Bundle-Identifier': 'com.nexa.gymmatch', // â† è¿½åŠ 
  },
);
```

### 2. Gemini API 403ã‚¨ãƒ©ãƒ¼ã®è§£æ±º
**åŸå› **: ãƒ¢ãƒ‡ãƒ«å `gemini-2.5-flash` ã¯ API Key ã§åˆ©ç”¨ä¸å¯  
**ä¿®æ­£**: `gemini-1.5-flash` ã«å¤‰æ›´ï¼ˆ2ãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£ï¼‰

```dart
// lib/services/ai_prediction_service.dart
static const String _apiUrl =
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';

// lib/services/training_analysis_service.dart
static const String _apiUrl =
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³

### GitHub
- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/aka209859-max/gym-tracker-flutter
- **ã‚³ãƒŸãƒƒãƒˆ**: `94f2f1d` (v1.0.198)
- **ã‚¿ã‚°**: v1.0.198 âœ…

### GitHub Actions (iOS Build)
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸŸ¡ **ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œä¸­** (é–‹å§‹: 11åˆ†å‰)
- **URL**: https://github.com/aka209859-max/gym-tracker-flutter/actions/runs/20068144029
- **æ¨å®šå®Œäº†**: ã‚ã¨ 5-10åˆ†

### TestFlight
- **URL**: https://appstoreconnect.apple.com/
- **ãƒ“ãƒ«ãƒ‰ç•ªå·**: 198
- **é…ä¿¡**: ğŸŸ¡ **ãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã€æ•°åˆ†ã§é…ä¿¡é–‹å§‹**

---

## ğŸ§ª TestFlight ãƒ†ã‚¹ãƒˆé …ç›®

ãƒ“ãƒ«ãƒ‰198ãŒé…ä¿¡ã•ã‚ŒãŸã‚‰ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:

### 1. ãƒãƒƒãƒ—æ©Ÿèƒ½ï¼ˆæœ€é‡è¦ï¼‰
- [ ] GPSä½ç½®æƒ…å ±ã®è¨±å¯
- [ ] è¿‘ãã®ã‚¸ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] âŒ **`REQUEST_DENIED` ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„**

### 2. AIã‚³ãƒ¼ãƒæ©Ÿèƒ½ï¼ˆæœ€é‡è¦ï¼‰
- [ ] éƒ¨ä½ã‚’é¸æŠ â†’ ã€Œãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç”Ÿæˆã€
- [ ] AIãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] âŒ **403ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„**

### 3. AIæˆé•·äºˆæ¸¬
- [ ] 4ãƒ¶æœˆå¾Œã®äºˆæ¸¬ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç§‘å­¦çš„æ ¹æ‹ ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] âŒ **403ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„**

### 4. ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åˆ†æ
- [ ] ãƒœãƒªãƒ¥ãƒ¼ãƒ è©•ä¾¡ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] âŒ **403ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„**

---

## ğŸ“Š Google Cloud Console ç¢ºèªé …ç›®

### APIä½¿ç”¨çŠ¶æ³ï¼ˆéå»1æ™‚é–“ï¼‰
1. **Generative Language API**
   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: æ­£å¸¸ï¼ˆ< 100 req/hï¼‰
   - ã‚¨ãƒ©ãƒ¼ç‡: < 1%
   - 403ã‚¨ãƒ©ãƒ¼: 0ä»¶

2. **Places API**
   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°: æ­£å¸¸ï¼ˆ< 50 req/hï¼‰
   - ã‚¨ãƒ©ãƒ¼ç‡: < 1%
   - `REQUEST_DENIED` ã‚¨ãƒ©ãƒ¼: 0ä»¶

### ç¢ºèªæ–¹æ³•
1. Google Cloud Console ã«ãƒ­ã‚°ã‚¤ãƒ³: https://console.cloud.google.com/
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ŒGYM MATCHã€ã‚’é¸æŠ
3. å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ `APIs & Services` â†’ `ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰`
4. `Generative Language API` ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ `ãƒ¡ãƒˆãƒªã‚¯ã‚¹` ã‚¿ãƒ–
5. `Places API` ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ `ãƒ¡ãƒˆãƒªã‚¯ã‚¹` ã‚¿ãƒ–

---

## ğŸ¯ æœ€çµ‚çš„ãªAIãƒ¢ãƒ‡ãƒ«é…ç½®

| æ©Ÿèƒ½ | ãƒ¢ãƒ‡ãƒ« | ç†ç”± |
|-----|--------|------|
| AIæˆé•·äºˆæ¸¬ | `gemini-1.5-flash` | è¤‡é›‘ãªç§‘å­¦çš„åˆ†æ |
| ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åˆ†æ | `gemini-1.5-flash` | å€‹åˆ¥æœ€é©åŒ– |
| AIã‚³ãƒ¼ãƒ | `gemini-2.0-flash-exp` | ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆ |
| ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆèª­è¾¼ | `gemini-2.0-flash-exp` | ãƒ†ã‚­ã‚¹ãƒˆãƒ‘ãƒ¼ã‚¹ |

**æœˆé¡ã‚³ã‚¹ãƒˆ**: ç´„ $0.36ï¼ˆ1,500 req/day = ç„¡æ–™æ å†…ï¼‰

---

## âš ï¸ v1.0.195-197 ã®å•é¡Œï¼ˆå‚è€ƒï¼‰

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å•é¡Œ | çµæœ |
|----------|------|------|
| v1.0.195 | Bundle ID ä¸ä¸€è‡´ (`jp.nexa.fitsync` â†’ `com.nexa.gymmatch`) | å…¨æ©Ÿèƒ½ãŒ403ã‚¨ãƒ©ãƒ¼ |
| v1.0.196 | ãƒ¢ãƒ‡ãƒ«åèª¤ã‚Šï¼ˆ`gemini-2.5-flash` ä½¿ç”¨ï¼‰ | AI Coaching OK, ä»–403 |
| v1.0.197 | 2ãƒ•ã‚¡ã‚¤ãƒ«ãŒ `gemini-2.5-flash` ã®ã¾ã¾ | ãƒãƒƒãƒ—ãƒ»AIã‚³ãƒ¼ãƒOK, æˆé•·äºˆæ¸¬ãƒ»åˆ†æ403 |
| **v1.0.198** | **å…¨ä¿®æ­£å®Œäº†** | **å…¨æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œ** âœ… |

---

## ğŸ“ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### 1. GitHub Actions ã®å®Œäº†ã‚’å¾…ã¤ï¼ˆã‚ã¨5-10åˆ†ï¼‰
- URL: https://github.com/aka209859-max/gym-tracker-flutter/actions

### 2. TestFlight ã§ãƒ“ãƒ«ãƒ‰198ã‚’ãƒ†ã‚¹ãƒˆ
- URL: https://appstoreconnect.apple.com/
- ãƒ“ãƒ«ãƒ‰198ãŒé…ä¿¡ã•ã‚ŒãŸã‚‰ã€ä¸Šè¨˜ã®ãƒ†ã‚¹ãƒˆé …ç›®ã‚’ç¢ºèª

### 3. çµæœã‚’å ±å‘Š
ä»¥ä¸‹ã®å½¢å¼ã§å ±å‘Šã—ã¦ãã ã•ã„:

```
ã€v1.0.198 ãƒ†ã‚¹ãƒˆçµæœã€‘

1. ãƒãƒƒãƒ—æ©Ÿèƒ½:
   - ã‚¸ãƒ æ¤œç´¢: â­• / âŒ
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: (ã‚‚ã—ã‚ã‚Œã°)

2. AIã‚³ãƒ¼ãƒæ©Ÿèƒ½:
   - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”Ÿæˆ: â­• / âŒ
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: (ã‚‚ã—ã‚ã‚Œã°)

3. AIæˆé•·äºˆæ¸¬:
   - äºˆæ¸¬è¡¨ç¤º: â­• / âŒ
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: (ã‚‚ã—ã‚ã‚Œã°)

4. ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°åˆ†æ:
   - åˆ†æè¡¨ç¤º: â­• / âŒ
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: (ã‚‚ã—ã‚ã‚Œã°)

5. Google Cloud Console:
   - 403ã‚¨ãƒ©ãƒ¼ä»¶æ•°: (éå»1æ™‚é–“)
   - ã‚¨ãƒ©ãƒ¼ç‡: %
```

---

## ğŸ”— ãƒªãƒ³ã‚¯é›†

- **GitHub ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/aka209859-max/gym-tracker-flutter
- **æœ€æ–°ãƒªãƒªãƒ¼ã‚¹ (v1.0.198)**: https://github.com/aka209859-max/gym-tracker-flutter/releases/tag/v1.0.198
- **GitHub Actions**: https://github.com/aka209859-max/gym-tracker-flutter/actions
- **TestFlight**: https://appstoreconnect.apple.com/
- **Google Cloud Console**: https://console.cloud.google.com/

---

**æœ€çµ‚æ›´æ–°**: 2025-12-09 15:16 JST  
**ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸŸ¡ å®Ÿè¡Œä¸­ â†’ âœ… ã¾ã‚‚ãªãå®Œäº†  
**æ¬¡å›ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0.199 (AIãƒ¡ãƒ‹ãƒ¥ãƒ¼è‡ªå‹•ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½)
